JAVASOURCE = 6
JAVABOOTCLASSPATH = -bootclasspath $(RT6JAR)
include ../Makefile.inc.am

EXTRA_DIST = servlet-2_3-fcs-classfiles.zip


java_srcdir = $(srcdir)/src/main/java
java_resdir = $(srcdir)/src/main/resources
dist_java_DATA = jTraverser.jar
java_DATA = jTraverser.jar
DEPENDENCIES = $(JSCOPE_JAR) $(MDSOBJECTS_JAR)

if USE_JARS_DIR

jTraverser.jar: @JARS_DIR@/java/jtraverser/jTraverser.jar
	cp $< $@

else

jTraverser.jar: $(DEPENDENCIES) classjava.stamp
	@ echo "Creating JAR: $@ ...";\
	cp -f $(JAVA_RES)  $(JAVAROOT)/ &&\
	$(JAR) cf $@ -C $(JAVAROOT) .


endif

if MINGW
bin_SCRIPTS += jTraverser.bat
else
bin_SCRIPTS += jTraverser
bin_SCRIPTS += CompileTree
bin_SCRIPTS += DecompileTree
EXTRA_DIST += jTraverser.template
EXTRA_DIST += CompileTree.template
EXTRA_DIST += DecompileTree.template
jTraverser: $(srcdir)/jTraverser.template
	cp $< $@
CompileTree: $(srcdir)/CompileTree.template
	cp $< $@
DecompileTree: $(srcdir)/DecompileTree.template
	cp $< $@
endif

SOURCE = *.java\
 mds/devices/*.java
RESOURCES = *.gif
