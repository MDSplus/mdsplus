@ECHO OFF
<!-- : --- get date Script ---------------------------
FOR /F "delims=" %%x IN ('cscript //nologo "%~f0?.wsf"') DO %%x
GOTO:rest
-->
<job id="Elevate"><script language="VBScript">
Wscript.Echo("set Year=" & DatePart("yyyy", Date))
Wscript.Echo("set Month=0" & DatePart("m", Date))
Wscript.Echo("set Day=0" & DatePart("d", Date))
</script></job>
:rest

ECHO preparing
if defined JDK_HOME GOTO:start
rem This script located the current version of
rem "Java Development Kit" and sets the
rem %JDK_HOME% environment variable
setlocal ENABLEEXTENSIONS
set KEY=HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\Java Development Kit
FOR /F "usebackq tokens=2,* skip=2" %%L IN (`reg query "%KEY%" /v CurrentVersion`) DO SET JDKVER=%%M
FOR /F "usebackq tokens=2,* skip=2" %%L IN (`reg query "%KEY%\%JDKVER%" /v JavaHome`) DO SET JDK_HOME="%%M"
SET JDK_HOME=%JDK_HOME:"=%
IF EXIST "%JDK_HOME%" GOTO:start
ECHO JDK not found. Please set %%JDK_HOME%% to the root path of your jdk.
SET /A ERROR=1
GOTO:end

:start
SET JARDIR=%CD%\..\java\classes
SET SRCDIR=%CD%\java
SET JSCH=%SRCDIR%\..\jsch-0.1.54.jar
SET CLASSPATH=-classpath ".;%JSCH%"
SET JAVAC="%JDK_HOME%\bin\javac.exe" ||rem -Xlint -deprecation
SET JCFLAGS= -g:none||rem -Xlint -deprecation  -O -source 1.6 -target 1.6
SET JAR="%JDK_HOME%\bin\jar.exe"
SET JTMANIFEST=%JARDIR%\JTMANIFEST.mf

SET TRAV_SRC=^
jtraverser\DataChangeEvent.java ^
jtraverser\DataChangeListener.java ^
jtraverser\MdsView.java ^
jtraverser\Node.java ^
jtraverser\TreeView.java ^
jtraverser\TreeManager.java ^
jtraverser\dialogs\ActionList.java ^
jtraverser\dialogs\AddNodeDialog.java ^
jtraverser\dialogs\CheckBoxList.java ^
jtraverser\dialogs\DataDialog.java ^
jtraverser\dialogs\Dialogs.java ^
jtraverser\dialogs\FlagsDialog.java ^
jtraverser\dialogs\GraphPanel.java ^
jtraverser\dialogs\OpenTreeDialog.java ^
jtraverser\dialogs\SubTreeList.java ^
jtraverser\dialogs\TagsDialog.java ^
jtraverser\editor\ActionEditor.java ^
jtraverser\editor\ArgEditor.java ^
jtraverser\editor\ArrayEditor.java ^
jtraverser\editor\Editor.java ^
jtraverser\editor\ExprEditor.java ^
jtraverser\editor\MethodEditor.java ^
jtraverser\editor\ParameterEditor.java ^
jtraverser\editor\ProcedureEditor.java ^
jtraverser\editor\ProgramEditor.java ^
jtraverser\editor\PythonEditor.java ^
jtraverser\editor\RangeEditor.java ^
jtraverser\editor\RoutineEditor.java ^
jtraverser\editor\SegmentEditor.java ^
jtraverser\editor\SignalEditor.java ^
jtraverser\editor\WindowEditor.java ^
jtraverser\editor\usage\ActionEditor.java ^
jtraverser\editor\usage\AnyEditor.java ^
jtraverser\editor\usage\AxisEditor.java ^
jtraverser\editor\usage\DispatchEditor.java ^
jtraverser\editor\usage\NumericEditor.java ^
jtraverser\editor\usage\SignalEditor.java ^
jtraverser\editor\usage\TaskEditor.java ^
jtraverser\editor\usage\TextEditor.java ^
jtraverser\editor\usage\WindowEditor.java ^
jtraverser\jTraverserFacade.java ^
jTraverser.java

SET TOOLS_SRC=^
jtraverser\tools\CompileTree.java ^
jtraverser\tools\DecompileTree.java

SET MDS_SRC=^
mds\Mds.java ^
mds\MdsApi.java ^
mds\MdsEvent.java ^
mds\MdsListener.java ^
mds\MdsException.java ^
mds\MdsMisc.java ^
mds\MdsShr.java ^
mds\Shr.java ^
mds\TCL.java ^
mds\TdiShr.java ^
mds\TreeShr.java ^
